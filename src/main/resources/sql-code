-- Створюю таблиці
CREATE TABLE Person
(
    id            INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    full_name     varchar(100)                      NOT NULL UNIQUE,
    year_of_birth int CHECK ( year_of_birth > 1900) NOT NULL
);
CREATE TABLE Book
(
    id        INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    person_id INTEGER                  REFERENCES Person (id) ON DELETE SET NULL,
    title     varchar(100)             NOT NULL UNIQUE,
    author    varchar(100)             NOT NULL,
    year      int CHECK ( year > 1500) NOT NULL
);

-- Видалення
DROP TABLE Person;
DROP TABLE Book;

-- Створюю людей
INSERT INTO Person(full_name, year_of_birth)
VALUES ('Taras Osadchuk', 2001);
INSERT INTO Person(full_name, year_of_birth)
VALUES ('Andrii Osadchuk', 1995);
INSERT INTO Person(full_name, year_of_birth)
VALUES ('Inna Boyko', 1975);

-- Створюю книги
INSERT INTO Book(person_id, title, author, year)
VALUES (null, '11/22/63', 'Stephen King', 2011);
INSERT INTO Book(person_id, title, author, year)
VALUES (1, 'Shantaram', 'Gregory David Roberts', 1997);
INSERT INTO Book(person_id, title, author, year)
VALUES (null, 'Metro 2033', 'Dmitry Glukhovsky', 2002);
INSERT INTO Book(person_id, title, author, year)
VALUES (2, 'Trap', 'Emile Zola', 1877);
INSERT INTO Book(person_id, title, author, year)
VALUES (3, 'It', 'Stephen King', 1986);
INSERT INTO Book(person_id, title, author, year)
VALUES (1, 'Da Vinci Code', 'Dan Brown', 2003);